---
title: "C/C++ Vulnerability Checks"
date: 2024-12-12
draft: false
category: "codereview"
tags: ["codereview-knowhow", "c", "cpp", "c++", "security", "tools"]
---


Tools for checking vulnerabilities in C/C++ code.

---

## Valgrind

```bash
# Install
sudo apt install valgrind

# Check memory leaks
valgrind --leak-check=full ./program

# Detailed output
valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes ./program
```

---

## AddressSanitizer (ASan)

```bash
# Compile with ASan
gcc -fsanitize=address -g program.c -o program
g++ -fsanitize=address -g program.cpp -o program

# Run
./program
```

---

## Clang Static Analyzer

```bash
# Scan with scan-build
scan-build make

# Scan single file
clang --analyze program.c
```

---

## Cppcheck

```bash
# Install
sudo apt install cppcheck

# Check project
cppcheck --enable=all --inconclusive --std=c++17 src/

# XML output
cppcheck --enable=all --xml src/ 2> report.xml
```

---

## Flawfinder

```bash
# Install
pip install flawfinder

# Scan
flawfinder src/

# HTML output
flawfinder --html src/ > report.html
```

---

## CI/CD Integration

```yaml
# GitHub Actions
name: Security Scan

on: [push, pull_request]

jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Install tools
        run: |
          sudo apt-get update
          sudo apt-get install -y cppcheck valgrind clang-tools
      
      - name: Run Cppcheck
        run: cppcheck --enable=all --error-exitcode=1 src/
      
      - name: Build with ASan
        run: |
          mkdir build
          cd build
          cmake -DCMAKE_CXX_FLAGS="-fsanitize=address -g" ..
          make
      
      - name: Run tests with ASan
        run: |
          cd build
          ./tests
```

---